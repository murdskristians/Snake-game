{"id":"BoS/","dependencies":[{"name":"C:\\Users\\Kristians\\Desktop\\Snake\\tsconfig.json","includedInParent":true,"mtime":1599944361863},{"name":"C:\\Users\\Kristians\\Desktop\\Snake\\package.json","includedInParent":true,"mtime":1599992708541},{"name":"./Grid","loc":{"line":1,"column":21},"parent":"C:\\Users\\Kristians\\Desktop\\Snake\\src\\engine\\Game.ts","resolved":"C:\\Users\\Kristians\\Desktop\\Snake\\src\\engine\\Grid.ts"},{"name":"./Snake","loc":{"line":2,"column":22},"parent":"C:\\Users\\Kristians\\Desktop\\Snake\\src\\engine\\Game.ts","resolved":"C:\\Users\\Kristians\\Desktop\\Snake\\src\\engine\\Snake.ts"},{"name":"./Configuration","loc":{"line":3,"column":26},"parent":"C:\\Users\\Kristians\\Desktop\\Snake\\src\\engine\\Game.ts","resolved":"C:\\Users\\Kristians\\Desktop\\Snake\\src\\engine\\Configuration.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Game=void 0;var t=require(\"./Grid\"),i=require(\"./Snake\"),e=require(\"./Configuration\"),n=function(){function n(e){this.score=0,this.running=!1,this.configuration=e,this.snake=new i.Snake,this.grid=new t.Grid(this.configuration),this.nextTick=0,this.running=!0}return n.prototype.getSnake=function(){return this.snake},n.prototype.getConfiguration=function(){return this.configuration},n.prototype.shouldUpdate=function(t){return this.running&&t>=this.nextTick},n.prototype.update=function(t){switch(this.nextTick=t+this.configuration.speed,this.snake.move(),this.checkState()){case-1:this.die();break;case 1:this.snake.grow(),this.score+=100,this.grid.removeApple(this.snake.getHead()),this.grid.isDone()&&this.levelUp()}},n.prototype.checkState=function(){var t=this.snake.getHead();return this.isOutside(t)||this.snake.isSnake(t)?-1:this.grid.isAppleInside(t)?1:0},n.prototype.levelUp=function(){this.score+=1e3,this.configuration.level++,this.configuration.level<e.MAX_LEVEL?(this.configuration.speed-=7,this.grid.seed()):this.win()},n.prototype.win=function(){this.stop()},n.prototype.die=function(){this.stop()},n.prototype.isOutside=function(t){var i=this.configuration,e=i.nbCellsX,n=i.nbCellsY;return t.x<0||t.x>=e||t.y<0||t.y>=n},n.prototype.getScore=function(){return this.score},n.prototype.getGrid=function(){return this.grid},n.prototype.stop=function(){this.running=!1},n}();exports.Game=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":86}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":88}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":112}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":114}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":122}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":133}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":135}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":143}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":162}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":164}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":175}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":184}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":14,"column":14},"generated":{"line":1,"column":186}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":7,"column":10},"generated":{"line":1,"column":189}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":7,"column":10},"generated":{"line":1,"column":194}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":7,"column":26},"generated":{"line":1,"column":200}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":8,"column":10},"generated":{"line":1,"column":202}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":8,"column":10},"generated":{"line":1,"column":207}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":8,"column":29},"generated":{"line":1,"column":216}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":218}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":223}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":15,"column":25},"generated":{"line":1,"column":237}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":239}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":244}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":1,"column":250}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":16,"column":21},"generated":{"line":1,"column":254}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":1,"column":256}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":262}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":267}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":17,"column":16},"generated":{"line":1,"column":272}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":17,"column":20},"generated":{"line":1,"column":276}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":17,"column":16},"generated":{"line":1,"column":278}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":17,"column":25},"generated":{"line":1,"column":283}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":288}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":303}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":308}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":18,"column":20},"generated":{"line":1,"column":317}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":319}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":324}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":19,"column":19},"generated":{"line":1,"column":333}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":335}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":342}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":344}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":354}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":363}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":374}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":381}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":23,"column":16},"generated":{"line":1,"column":386}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":393}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":395}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":405}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":422}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":433}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":440}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":445}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":460}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":462}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":472}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":485}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":30,"column":15},"generated":{"line":1,"column":494}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":1,"column":497}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":1,"column":504}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":1,"column":509}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":31,"column":27},"generated":{"line":1,"column":518}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":1,"column":521}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":31,"column":40},"generated":{"line":1,"column":526}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":536}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":538}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":548}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":555}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":564}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":1,"column":567}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":574}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":579}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":35,"column":20},"generated":{"line":1,"column":588}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":35,"column":27},"generated":{"line":1,"column":590}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":35,"column":32},"generated":{"line":1,"column":595}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":35,"column":46},"generated":{"line":1,"column":609}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":615}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":620}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":37,"column":15},"generated":{"line":1,"column":626}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":1,"column":633}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":39,"column":17},"generated":{"line":1,"column":638}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":652}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":657}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":659}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":664}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":670}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":676}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":681}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":683}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":688}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":44,"column":19},"generated":{"line":1,"column":694}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":701}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":706}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":45,"column":22},"generated":{"line":1,"column":713}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":46,"column":13},"generated":{"line":1,"column":717}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":46,"column":13},"generated":{"line":1,"column":722}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":46,"column":18},"generated":{"line":1,"column":727}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":46,"column":30},"generated":{"line":1,"column":739}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":46,"column":35},"generated":{"line":1,"column":744}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":46,"column":41},"generated":{"line":1,"column":750}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":761}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":47,"column":17},"generated":{"line":1,"column":766}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":47,"column":22},"generated":{"line":1,"column":771}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":48,"column":15},"generated":{"line":1,"column":781}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":48,"column":15},"generated":{"line":1,"column":786}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":798}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":800}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":810}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":821}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":54,"column":10},"generated":{"line":1,"column":832}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":54,"column":10},"generated":{"line":1,"column":836}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":54,"column":17},"generated":{"line":1,"column":838}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":1,"column":843}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":54,"column":28},"generated":{"line":1,"column":849}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":859}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":866}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":57,"column":13},"generated":{"line":1,"column":871}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":1,"column":881}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":57,"column":32},"generated":{"line":1,"column":885}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":57,"column":37},"generated":{"line":1,"column":890}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":57,"column":43},"generated":{"line":1,"column":896}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":57,"column":51},"generated":{"line":1,"column":904}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":59,"column":14},"generated":{"line":1,"column":908}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":1,"column":910}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":63,"column":13},"generated":{"line":1,"column":915}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":63,"column":18},"generated":{"line":1,"column":920}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":63,"column":32},"generated":{"line":1,"column":934}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":1,"column":937}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":68,"column":11},"generated":{"line":1,"column":939}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":71,"column":2},"generated":{"line":1,"column":942}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":71,"column":2},"generated":{"line":1,"column":944}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":71,"column":2},"generated":{"line":1,"column":954}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":71,"column":2},"generated":{"line":1,"column":962}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":973}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":978}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":72,"column":18},"generated":{"line":1,"column":985}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":989}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":994}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":73,"column":23},"generated":{"line":1,"column":1008}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1016}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":74,"column":13},"generated":{"line":1,"column":1021}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":74,"column":27},"generated":{"line":1,"column":1035}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":74,"column":35},"generated":{"line":1,"column":1041}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":1043}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":75,"column":11},"generated":{"line":1,"column":1054}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":75,"column":11},"generated":{"line":1,"column":1059}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":75,"column":25},"generated":{"line":1,"column":1073}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":75,"column":34},"generated":{"line":1,"column":1080}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":76,"column":11},"generated":{"line":1,"column":1082}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":76,"column":11},"generated":{"line":1,"column":1087}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":76,"column":16},"generated":{"line":1,"column":1092}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":1,"column":1100}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":1,"column":1105}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":1112}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":1114}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":1124}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":1128}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":83,"column":9},"generated":{"line":1,"column":1139}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":83,"column":9},"generated":{"line":1,"column":1144}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1152}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1154}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1164}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1168}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":1179}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":1184}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":90,"column":2},"generated":{"line":1,"column":1192}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":90,"column":2},"generated":{"line":1,"column":1194}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":90,"column":2},"generated":{"line":1,"column":1204}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":90,"column":2},"generated":{"line":1,"column":1214}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":90,"column":12},"generated":{"line":1,"column":1223}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":91,"column":10},"generated":{"line":1,"column":1226}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":91,"column":10},"generated":{"line":1,"column":1230}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":91,"column":10},"generated":{"line":1,"column":1232}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":91,"column":10},"generated":{"line":1,"column":1237}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":91,"column":12},"generated":{"line":1,"column":1251}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":91,"column":12},"generated":{"line":1,"column":1253}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":91,"column":12},"generated":{"line":1,"column":1255}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":91,"column":22},"generated":{"line":1,"column":1264}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":91,"column":22},"generated":{"line":1,"column":1266}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":91,"column":22},"generated":{"line":1,"column":1268}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":11},"generated":{"line":1,"column":1277}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":11},"generated":{"line":1,"column":1284}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":16},"generated":{"line":1,"column":1286}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":20},"generated":{"line":1,"column":1288}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":25},"generated":{"line":1,"column":1291}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":30},"generated":{"line":1,"column":1293}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":35},"generated":{"line":1,"column":1296}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":47},"generated":{"line":1,"column":1299}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":52},"generated":{"line":1,"column":1301}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":56},"generated":{"line":1,"column":1303}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":61},"generated":{"line":1,"column":1306}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":66},"generated":{"line":1,"column":1308}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":92,"column":71},"generated":{"line":1,"column":1311}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":1314}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":1316}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":1326}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":1335}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":96,"column":11},"generated":{"line":1,"column":1346}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":96,"column":11},"generated":{"line":1,"column":1353}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":96,"column":16},"generated":{"line":1,"column":1358}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":99,"column":2},"generated":{"line":1,"column":1365}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":99,"column":2},"generated":{"line":1,"column":1367}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":99,"column":2},"generated":{"line":1,"column":1377}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":99,"column":2},"generated":{"line":1,"column":1385}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":100,"column":11},"generated":{"line":1,"column":1396}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":100,"column":11},"generated":{"line":1,"column":1403}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":100,"column":16},"generated":{"line":1,"column":1408}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":1414}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":1416}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":1426}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":1431}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":104,"column":9},"generated":{"line":1,"column":1442}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":104,"column":9},"generated":{"line":1,"column":1447}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":1,"column":1456}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":1459}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1461}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1464}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1472}},{"source":"../src/engine/Game.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1477}}],"sources":{"../src/engine/Game.ts":"import { Grid } from \"./Grid\";\r\nimport { Snake } from \"./Snake\";\r\nimport { Configuration, MAX_LEVEL } from \"./Configuration\";\r\nimport { Cell } from \"./Cell\";\r\n\r\nexport class Game {\r\n  private score: number = 0;\r\n  private running: boolean = false;\r\n  private grid: Grid;\r\n  private snake: Snake;\r\n  private configuration: Configuration;\r\n  private nextTick: number;\r\n\r\n  constructor(configuration: Configuration) {\r\n    this.configuration = configuration;\r\n    this.snake = new Snake();\r\n    this.grid = new Grid(this.configuration);\r\n    this.nextTick = 0;\r\n    this.running = true;\r\n  }\r\n\r\n  getSnake(): Snake {\r\n    return this.snake;\r\n  }\r\n\r\n  getConfiguration() {\r\n    return this.configuration;\r\n  }\r\n\r\n  shouldUpdate(time: number): boolean {\r\n    return this.running && time >= this.nextTick;\r\n  }\r\n\r\n  update(time: number) {\r\n    this.nextTick = time + this.configuration.speed;\r\n\r\n    this.snake.move();\r\n\r\n    switch (this.checkState()) {\r\n      case -1:\r\n        this.die();\r\n        break;\r\n      case 1:\r\n        this.snake.grow();\r\n        this.score += 100;\r\n        this.grid.removeApple(this.snake.getHead());\r\n        if (this.grid.isDone()) {\r\n          this.levelUp();\r\n        }\r\n    }\r\n  }\r\n\r\n  checkState() {\r\n    const cell = this.snake.getHead();\r\n\r\n    // left the play area or ate itself??\r\n    if (this.isOutside(cell) || this.snake.isSnake(cell)) {\r\n      // dead\r\n      return -1;\r\n    }\r\n\r\n    // ate apple?\r\n    if (this.grid.isAppleInside(cell)) {\r\n      return 1;\r\n    }\r\n\r\n    // nothing special\r\n    return 0;\r\n  }\r\n\r\n  levelUp() {\r\n    this.score += 1000;\r\n    this.configuration.level++;\r\n    if (this.configuration.level < MAX_LEVEL) {\r\n      this.configuration.speed -= 7;\r\n      this.grid.seed();\r\n    } else {\r\n      this.win();\r\n    }\r\n  }\r\n\r\n  win() {\r\n    this.stop();\r\n  }\r\n\r\n  die() {\r\n    this.stop();\r\n  }\r\n\r\n  isOutside(cell: Cell) {\r\n    const { nbCellsX, nbCellsY } = this.configuration;\r\n    return cell.x < 0 || cell.x >= nbCellsX || cell.y < 0 || cell.y >= nbCellsY;\r\n  }\r\n\r\n  getScore(): number {\r\n    return this.score;\r\n  }\r\n\r\n  getGrid(): Grid {\r\n    return this.grid;\r\n  }\r\n\r\n  stop() {\r\n    this.running = false;\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"83f5edae8fc24fc4ac77f6b4484b4f83","cacheData":{"env":{}}}